<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragments/template :: head_input(~{::title})">
	<title>Title</title>
</head>
<body>
<th:block th:include="/common/_header"></th:block>
<main>
	<div class="container-fluid">
		<div class="row">
			<th:block th:include="/common/_customer-sidebar-menu"></th:block>
			<div class="col-lg-8">
				<div class="row mb-4">
					<h3 class="text-lg-left mt-lg-2">Address Book</h3>
					<a class="text-decoration-none btn btn-green ml-auto mr-5"
					   th:href="@{/customer/address/add}">
						<i class="fas fa-plus mr-1"></i>
						<span>Add new address</span>
					</a>
				</div>
				<div th:replace="fragments/template :: display-error-message"/>

				<div class="row mb-2" th:each="address : ${address_list}" th:unless="${#lists.isEmpty(address_list)}">
					<div class="col-lg-7">
						<div class="container">
							<div class="row">
							<span class="font-weight-normal"
							      th:text="${#strings.toUpperCase(address.fullName)}">Name</span>
								<span th:classappend="${(address.isDefault eq 1) ? 'show':'hide'}"
								      class="text-success ml-2 font-weight-bold pt-1"
								      style="font-size: 80%">Default address</span>
							</div>
							<div class="row">
								<span class="text-muted" text="Address: "></span>
								<span th:text="${address.addressDetail}+', '+${address.ward}+', '+${address.district}+', '+${address.province}"></span>
							</div>
							<div class="row">
								<span class="text-muted" text="Telephone: "></span>
								<span th:text="${address.phoneNumber}"></span>
							</div>
						</div>
					</div>
					<div class="col-lg-auto">
						<a role="button" class="btn btn-primary"
						   th:href="@{/customer/address/edit(id = ${address.id})}">
							<i class="fas fa-map-signs mr-1"></i>
							Edit
						</a>
                        <button class="btn_delete btn btn-danger" type="button"
                                th:onclick="|javascript:deleteAddress(${address.id})|">
	                        <i class="fas fa-times mr-1"></i>
	                        Delete
                        </button>
						<button type="button" class="btn btn-outline-primary" th:classappend="${address.isDefault eq 1} ? 'd-none':''"
						        th:onclick="|javascript:setDefaultAddress(${address.id})|">
							<i class="fas fa-thumbtack mr-1"></i>
							Set as Default
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</main>
<th:block th:include="/common/_footer"></th:block>
<form method="get" th:action="@{/customer/address/manageAddress}" id="reload"></form>
</body>
<script type="text/javascript" th:src="@{/js/customer/manageAddress.js}"></script>
</html>