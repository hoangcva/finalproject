<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/template :: head_input(~{::title})">
	<title th:text="${productForm.productName}"></title>
</head>
<body>
<th:block th:include="/common/_header"></th:block>
<div class="container">
	<form th:action="@{/viewProductDetail}" th:object="${productForm}" th:method="POST">
		<div class="row">
			<div class="col-md-5">
				<div id="carouselExampleIndicators" class="carousel slide d-flex" data-ride="carousel"
				     style="height: 400px;">
					<ol class="carousel-indicators">
						<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"
						    th:unless="${#lists.size(productForm.productImageFormList) eq 0}"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="1"
						    th:unless="${#lists.size(productForm.productImageFormList) < 2}"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="2"
						    th:unless="${#lists.size(productForm.productImageFormList) < 3}"></li>
					</ol>
					<div class="carousel-inner d-flex align-items-center">
						<div class="carousel-item active"
						     th:unless="${#lists.size(productForm.productImageFormList) eq 0}">
							<img class="d-block img-fluid" alt="First slide"
							     th:src="@{'data:image/jpeg;base64,'+${productForm.productImageFormList[0].generateBase64Image()}}"
							     th:unless="${#lists.size(productForm.productImageFormList) eq 0}">
						</div>
						<div class="carousel-item" th:unless="${#lists.size(productForm.productImageFormList) < 2}">
							<img class="d-block img-fluid" alt="Second slide"
							     th:src="@{'data:image/jpeg;base64,'+${productForm.productImageFormList[1].generateBase64Image()}}"
							     th:unless="${#lists.size(productForm.productImageFormList) < 2}">
						</div>
						<div class="carousel-item" th:unless="${#lists.size(productForm.productImageFormList) < 3}">
							<img class="d-block img-fluid" alt="Third slide"
							     th:src="@{'data:image/jpeg;base64,'+${productForm.productImageFormList[2].generateBase64Image()}}"
							     th:unless="${#lists.size(productForm.productImageFormList) < 3}">
						</div>
					</div>
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
			<div class="col-md-7">
				<h3 class="d-block mb-lg-5" th:text="*{productName}"></h3>
				<div class="container">
					<div class="row">
						<div class="d-flex flex-column align-items-end w-75 col-sm-7">
							<div class="mb-lg-2">
								<h3 class="d-block font-weight-bold money " th:text="*{price}"></h3>
								<div class="d-inline-flex money list-price" th:text="*{listPrice}"></div>
								<div class="d-inline-flex discount"
								     th:text="'-' + *{(listPrice - price) * 100 / listPrice + '%'}"></div>
							</div>
							<div class="mb-lg-3 ">
								<div th:replace="fragments/template :: change-quantity(0, ${productForm.quantity})"></div>
							</div>
							<input class="btn btn-primary d-inline-block" id="btn-submit" type="button" value="Buy"
							       onclick="addProductToCart()" style="width: 250px">
						</div>
						<div class="col-sm-5">Vendor todo</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-8">
				<h3>Detail Information</h3>
				<table>
					<tbody>
					<tr>
						<td>SKU</td>
						<td th:text="*{SKU}"></td>
					</tr>
					<tr>
						<td>Origin</td>
						<td th:text="*{origin}"></td>
					</tr>
					<tr>
						<td>Brand</td>
						<td th:text="*{brand}"></td>
					</tr>
					</tbody>
					<tbody th:if="*{categoryId eq 1}">
					<tr>
						<td>Size</td>
						<td th:text="*{size}"></td>
					</tr>
					<tr>
						<td>Color</td>
						<td th:text="*{color}"></td>
					</tr>
					<tr>
						<td>Material</td>
						<td th:text="*{material}"></td>
					</tr>
					</tbody>
					<tbody th:if="*{categoryId eq 2}">
					<tr th:if="*{subCategoryId eq 1 or subCategoryId eq 3}">
						<td>Size</td>
						<td th:text="*{size}"></td>
					</tr>
					<tr>
						<td>Model</td>
						<td th:text="*{model}"></td>
					</tr>
					<tr th:if="*{subCategoryId eq 1}">
						<td>Type</td>
						<td th:text="*{type}"></td>
					</tr>
					<tr th:if="*{subCategoryId eq 1}">
						<td>Frames per second</td>
						<td th:text="*{framePerSecond}"></td>
					</tr>
					<tr th:if="*{subCategoryId eq 1}">
						<td>Weight</td>
						<td th:text="*{weight}"></td>
					</tr>
					<tr th:if="*{subCategoryId eq 1}">
						<td>Connection ports</td>
						<td th:text="*{connectionPorts}"></td>
					</tr>
					<tr>
						<td>Voltage</td>
						<td th:text="*{voltage}"></td>
					</tr>
					<tr th:if="*{subCategoryId eq 2 or subCategoryId eq 3}">
						<td>Capacity</td>
						<td th:text="*{capacity}"></td>
					</tr>
					<tr th:if="*{subCategoryId eq 2}">
						<td>Power</td>
						<td th:text="*{power}"></td>
					</tr>
					</tbody>
					<tbody th:if="*{categoryId eq 3}">
					<tr>
						<td>Author</td>
						<td th:text="*{author}"></td>
					</tr>
					<tr>
						<td>Release date</td>
						<td th:text="*{releaseDate}"></td>
					</tr>
					<tr>
						<td>Number of pages/td>
						<td th:text="*{numberOfPages}"></td>
					</tr>
					<tr>
						<td>Language</td>
						<td th:text="*{language}"></td>
					</tr>
					<tr>
						<td>Publisher</td>
						<td th:text="*{publisher}"></td>
					</tr>
					</tbody>
				</table>
			</div>
			<div class="col-lg-2">
				<ul th:each="vendor: ${vendorList}">
					<li th:unless="${vendor.vendorId eq vendorId}">
						<a th:href="@{/viewProductDetail(productId = ${vendor.productId}, vendorId = ${vendor.vendorId})}">
							<span th:text="${vendor.fullName}"></span>
							<span th:value="${vendor.price}"></span>
						</a>
					</li>
				</ul>
			</div>
		</div>

		<div class="row">
			<div class="d-block"><h3>Product Description</h3></div>
<!--			<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">-->
<!--				Button with data-target-->
<!--			</button>-->
			<div class="col-lg-10 collapse">
				<div th:utext="*{description}" id="collapseExample" th:remove="tag"></div>
			</div>
		</div>

		<input type="hidden" name="vendorId" id="vendorId" th:value="*{vendorId}">
		<input type="hidden" name="productId" id="productId" th:value="*{productId}">
		<input type="hidden" name="quantity" id="quantity" th:value="*{quantity}">
	</form>
</div>

</body>
<script type="text/javascript" th:src="@{/js/customer/viewProductDetail.js}"></script>
<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/customer/viewProductDetail.css}"
      href="../../css/customer/viewProductDetail.css">
</html>