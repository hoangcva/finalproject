<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<script type="text/javascript" th:src="@{/js/common/_header.js}"></script>
<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/common/_header.css}"
      href="../../static/css/common/_header.css">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-lg-2">
	<th:block sec:authorize="isAuthenticated()">
		<a class="navbar-brand" th:href="@{/admin}" sec:authorize="hasRole('ADMIN')">###</a>
		<a class="navbar-brand" th:href="@{/}" sec:authorize="hasRole('USER')">###</a>
		<a class="navbar-brand" th:href="@{/vendor}" sec:authorize="hasRole('VENDOR')">###</a>
		<a class="navbar-brand" th:href="@{/transporter/orders}" sec:authorize="hasRole('SHIPPER')">###</a>
	</th:block>
	<a class="navbar-brand" th:href="@{/}" sec:authorize="!isAuthenticated()">###</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
	        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarSupportedContent">
		<ul class="navbar-nav mr-auto" sec:authorize="isAuthenticated()">
			<li sec:authorize="hasRole('ADMIN')" class="nav-item active">
				<a class="nav-link" th:href="@{/admin}">Hello: <span sec:authentication="name"></span></a>
			</li>
			<li sec:authorize="hasRole('USER')" class="nav-item active">
				<a class="nav-link" th:href="@{/user}">Hello: <span sec:authentication="name"></span></a>
			</li>
			<li sec:authorize="hasRole('USER')" class="nav-item active">
				<a class="nav-link" th:href="@{/customer/cart/view}">Cart</a>
			</li>
			<li sec:authorize="hasRole('VENDOR')" class="nav-item active">
				<a class="nav-link" th:href="@{/vendor}">Hello: <span sec:authentication="name"></span></a>
			</li>
			<li sec:authorize="hasRole('SHIPPER')" class="nav-item active">
				<a class="nav-link" th:href="@{/transporter/orders}">Hello: <span sec:authentication="name"></span></a>
			</li>
		</ul>
		<ul class="navbar-nav mr-0 ml-auto" sec:authorize="isAuthenticated()">
			<li class="nav-item active" sec:authorize="hasRole('USER')">
				<a class="nav-link" th:href="@{/user/update}">Update info</a>
			</li>
			<li class="nav-item active" sec:authorize="hasRole('VENDOR')">
				<a class="nav-link" th:href="@{/vendor/info}">Update info</a>
			</li>
			<li class="nav-item active">
				<a class="nav-link" href="#" th:text="Logout" th:onclick="|javascript:logout()|"></a>
			</li>
		</ul>
		<ul sec:authorize="!isAuthenticated()" class="navbar-nav mr-0 ml-auto">
			<li class="nav-item active">
				<a class="nav-link" th:href="@{/login}">Login</a>
			</li>
			<li class="nav-item active">
				<a class="nav-link" th:href="@{/registerUser}">Register</a>
			</li>
			<li class="nav-item active">
				<a class="nav-link" th:href="@{/registerVendor}">Vendor Register</a>
			</li>
		</ul>
	</div>
</nav>
<form method="post" th:action="@{/j_spring_security_logout}" id="logout">
	<!--    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />-->
</form>
