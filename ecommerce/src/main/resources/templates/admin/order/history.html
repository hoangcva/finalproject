<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/template :: head_input(~{::title})">
	<title>Order</title>
</head>
<body>
<th:block th:include="/common/_header"></th:block>

<div class="container-fluid">
	<div class="row">
		<div class="col-lg-2"></div>
		<div class="col-lg-8">
			<h2 class="d-block text-lg-center">Admin Page > Order</h2>
		</div>
	</div>
	<div class="row">
		<th:block th:include="/common/_admin-sidebar-menu"></th:block>
		<div class="col-lg-8">
			<div th:replace="fragments/template :: display-error-message"/>
			<table class="table table-bordered" id="dtBasicExample">
				<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Code order</th>
					<th scope="col">Order date</th>
					<th scope="col">Order status</th>
					<th scope="col">Action</th>
				</tr>
				</thead>
				<tbody>
				<tr th:each="order,iStat  : ${orderFormList}">
					<th scope="row" th:text="${iStat.count}"></th>
					<td ><a th:text="${order.orderDspId}" th:href="@{/admin/order/detail(orderId = ${order.id})}"></a></td>
					<td th:text="${order.orderDate}"></td>
					<td th:text="${order.orderStatus}"></td>
					<td class="d-flex">
						<a type="submit" class="btn btn-primary" role="button"
						   th:href="@{/admin/order/update(id=${order.id}, orderDspId=${order.orderDspId}, orderStatus='READY')}"
						   th:classappend="${order.orderStatus ne 'PROGRESSING'}?'disabled btn-outline-primary':''">Approve</a>
						<a type="submit" class="btn btn-danger ml-1" role="button"
						   th:href="@{/admin/order/update(id=${order.id}, orderDspId=${order.orderDspId}, orderStatus='CANCELED')}"
						   th:classappend="${order.orderStatus eq 'CANCELED'}?'disabled btn-outline-danger':''">Cancel</a>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
<form method="get" th:action="@{/admin/orders}" id="reload"></form>
</body>
<script type="text/javascript" th:src="@{/js/admin/order/history.js}"></script>
</html>